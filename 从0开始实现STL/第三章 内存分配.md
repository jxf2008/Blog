## list和vector的问题

前面两章实现了丐版的list和vector,看到这里也许有人回想着马上去实现map,set等容器，但在继续实现map等其他容器之前，需要看下前面list和vector存在的问题

第一个需要解决的问题就是内存的分配，如果你看下list和vector的代码，上面满是new和delete，如果你现在关闭页面，自己去实现一个，会遇到许多问题。实际上，前面list和vector的代码时我为了这篇博文专门写的，虽然在此之前，我已经实现果好多次类似的代码，但我这次为博文再次实现时并没有一帆风顺，我经过了长时间的调试才勉强完成的，之所以像我这样第N次实现却还是到处出错，一个很重要的原因就是各种new和delete,list和vector的内部数据结构不一样，也很容易猜到后面的map,set的内部数据结构，如果每个容器内部都是这样布满new和delete，不说代码的维护，光实现就是个大问题。

为此，要一步步的实现STL，首先要解决list和vector存在的问题，第一个要解决的就是内存的分配（即申请和释放）。